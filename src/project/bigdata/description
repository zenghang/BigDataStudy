1.平台综述
    此平台主要基于慢性病患者群体，针对慢性病患者的实时体征数据（心率，血压，睡眠时长，经纬度，体温等）和静态数据
（病例，体检记录，病史，过敏史，手术记录），实现对数据的查询、处理、挖掘分析和可视化，主要包括以下几点：
 （1）数据集群管理、监控和预警；
 （2）实时数据监控和告警；
 （3）实时体征数据的多维分析和可视化；
 （4）历史病例数据的查询和展示；
 （5）离线数据的模式挖掘和在线匹配；
 （6）对实时指标的聚类分析算法；
    整个系统被划分为前端Web业务系统和后端数据服务群，其中后端业务服务群以独立的微服务形式运行，前端Web业务系统通过以
REST API的方式进行服务调度。

2.集群环境
    Kafka集群：Kafka集群一共五台机器，我们使用Confluent Kafka来构建集群，版本是3.3，对应Kafka
的版本为0.11.0。
    ZooKeeper集群：Zookeeper集群有三台机器组成，Zookeeper中每一台机器都有一个角色，本集群中有
leader和follower的角色，leader负责数据的写入和查询，而follower负责数据的查询和等待接替leaderde位置。
Zookeeper的版本是3.4.8.
    Hadoop、HBase和Kylin集群:这三个服务组件都安装在四台虚拟机当中。
    OpenTSDB集群：存放实时数据
    ElasticSearch：存放一些静态的病例数据
    Grafanna:Grafana与ElasticSearch共享同一台服务器，Grafanna的服务使用yum进行按安装，服务被配置
到在/etc/init.d中，可以使用service grafana-server [start|stop|restart|status]来控制grafana服务器。

3.数据的生产
    实时数据：是在Github上面找的一个项目，主要生成实时体征数据（心率，血压，睡眠时长，经纬度，体温等），
每个用户每分钟产生五条数据，1万个用户一天就是 10000*5*60*24=7200万，一个月就是大概20亿条，差不多2T的数据量。
    静态数据：也是Github上面的一个项目，主要生成静态数据（病例，体检记录，病史，过敏史，手术记录）只生成一次。

4.数据的存储
    数据从文件系统读入到Kafka中：
        (1)实时数据数据生成以后是保存在文件系统中的，以每个度量值的名称创建队列，然后先将数据读入队列（DelayQueue），然后
        kafka producer从队列取数据发送到kafka topic中。
        (2)静态数据生成以后是以CSV的格式保存在文件系统中的，为每个文件系统创建一个队列，然后将数据读入队列，
        kafka producer从队列取数据发送到kafka topic中。
    实时数据从kafka到OpenTSDB中：
        实时数据通过kafka connect导入到OpenTSDB中
    静态数据从kafka到ElasticSearch中：
        静态数据通过kafka connect导入到elasticsearch中，Kafka Connect可以更方便的创建和管理
    数据流管道。通过connectors可以将大数据从其它系统导入到Kafka中，也可以从Kafka中导出到其他系统。

5.数据的分析
    实时数据的监控告警：
        检查某种条件，并在条件出现时触发告警，比如温度过高的告警。这些告警，可以定义在一个简单的标量
    值上、或者一些更复杂的条件(比如持续时间、出现频率、变化方式等等)。
    静态数据的查询展示：
        静态数据主要是存储在elasticsearch中，主要作用是通过Web端提供的查询对象，构建ElasticSearch查询表达式，
    并将表达式传输到ElasticSearch中进行查询，并获取对应查询信息结果集。

    离线数据的模式挖掘和在线匹配：
    实时数据的聚类分析：


















